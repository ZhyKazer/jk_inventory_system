# JK Inventory System

A Flutter-based inventory management prototype that uses Hive for local persistence. JK Inventory System implements core inventory workflows (categories, products, incoming stock batches, daily outing flows) and an activity log for auditing. The project is structured to be "Firebase‑ready" later, but currently stores all data locally using Hive adapters and repositories.

> Note: I scanned the repository to build this README. The scan covered the main Dart models, repositories, high-level app entry, and the project plan documentation; it may be incomplete. For full details, review the repository source.

## Key features

- Category CRUD (name + color)
- Product CRUD (category, pricing)
- Stock Batch (incoming stock) with multi-item batch creation and history
- Outing stepper flow for daily operations (displayed, returned, discarded, replaced, sold)
- Activity log capturing important actions (category/product create/update/delete, batch creation, outing submissions)
- Local persistence via Hive with TypeAdapters for all domain models
- Modular architecture with repositories, providers, services, and UI pages
- Designed for mobile (Android/iOS) with a desktop/web scaffolding present in repo (CMake / platform files)

## Major components (what I found)

- lib/models
  - `category.dart` — Category model + Hive adapter (typeId = 0)
  - `product.dart` — Product model + Hive adapter (typeId = 1)
  - `stock_batch.dart` — StockBatch and BatchItem model + Hive adapter (typeId = 2)
  - `outing_record.dart` — OutingRecord, OutingLine, OutingStatus + Hive adapter (typeId = 3)
  - `activity_log.dart` — ActivityLog model + Hive adapter (typeId = 4)
  - `unit_type.dart` — Unit enumeration used by batches/outings (used across models)
- lib/repositories
  - `category_repository.dart` — Simple wrapper around a Hive box for category CRUD
  - `product_repository.dart` — Product CRUD via Hive
  - `stock_batch_repository.dart`, `outing_repository.dart`, `activity_log_repository.dart` — similar repository layers (data access / persistence)
- lib/providers
  - Provider classes wire repositories into application state (used by UI pages)
- lib/services
  - `inventory_storage.dart` — initialization and Hive box registration logic (adapter registration happens at startup)
- lib/ui/pages, lib/ui/widgets
  - UI pages and widgets: bottom navigation, list screens, form dialogs, outing stepper, batch history, activity log
- lib/main.dart
  - App entry — registers Hive adapters, initializes boxes, and wires providers and repositories for the app shell
- Master_Task.md
  - Project plan / spec covering goals, phases, business rules, UX requirements, acceptance criteria, and roadmap (very useful for contributors and maintainers)
- Platform tooling
  - C/C++ and CMake files for Windows/Linux runner wrappers (generated by Flutter tooling)

## Architecture overview

- Domain models are plain Dart classes with Hive TypeAdapters for binary persistence.
- Repositories are small, focused wrappers around Hive boxes exposing create/read/update/delete methods and simple sorting/queries.
- Providers (state management) expose repository-backed data to the UI.
- UI is organized into pages and reusable widgets; the app uses a bottom navigation shell and floating actions to create categories/products/batches or start the outing flow.
- The codebase is intentionally structured so a cloud sync layer (e.g., Firebase) can be added in the future by introducing repository interfaces and a cloud implementation.

## Getting started (run locally)

Prerequisites
- Flutter SDK (matching the SDK constraint used in the project)
- Dart SDK (bundled with Flutter)
- (Optional) Android Studio or Xcode for mobile platform tooling

Quick steps
1. Clone the repo
   - git clone https://github.com/ZhyKazer/jk_inventory_system.git
2. Open the project in your IDE or terminal
3. Fetch packages
   - flutter pub get
4. Run on a device or emulator
   - flutter run

Notes
- The app uses Hive for local storage. On first run it will create Hive boxes and register the TypeAdapters declared in `lib/models`.
- Debug/demo seed data — check the code for any debug-only seed helpers if you need sample data.

## Recommended dependencies (found in project plan / code)

- hive, hive_flutter — binary local persistence and Flutter integration
- uuid — ID generation for domain entities
- intl — formatting dates/numbers
- flutter_colorpicker — for category color selection
- Provider (or equivalent) — for state management (providers are present)

## How to add a new entity (example: Product)

1. Create or update the domain model (lib/models/product.dart) — include the TypeAdapter write/read methods and a unique typeId.
2. Add repository methods or update `ProductRepository`.
3. Register the adapter during app startup (main.dart / inventory_storage.dart).
4. Add provider wiring or expose repository via existing provider.
5. Implement the UI: form to create/update product and list page to show products.
6. Add hooks to activity logger to create an ActivityLog entry for create/update actions.

## Testing and debugging

- Run the app in debug mode (`flutter run`) and inspect Hive boxes using logs or debug print statements.
- For persistent test data removal, clear app data on the device/emulator or implement a debug/seed toggle in code.

## Roadmap / TODOs (noted in project plan)

- UX hardening: empty states, field validation messages, confirmation dialogs
- Add local search/filter in product lists
- Introduce repository interfaces to support swapping local (Hive) and cloud (Firebase) implementations
- Add multi-device sync and conflict resolution (planned but out of scope for current repo)
- Expand platform CI and automated tests

## Contribution

- Read `Master_Task.md` for the feature breakdown, acceptance criteria, and implementation notes.
- Follow the existing folder conventions: `models`, `repositories`, `providers`, `services`, `ui/pages`, `ui/widgets`.
- When adding a new Hive model:
  - Update the model file and TypeAdapter
  - Register the adapter in app startup (ensure unique `typeId`)
  - Add repository access and provider wiring
  - Add UI pages / widgets and activity log hooks where appropriate
- Open issues and PRs with clear descriptions and links to the relevant `Master_Task.md` task.

## Where to look in the code (important files)

- `lib/main.dart` — app startup and adapter registration
- `lib/models/*.dart` — domain models + Hive adapters (category, product, stock_batch, outing_record, activity_log)
- `lib/repositories/*.dart` — data access layer (CategoryRepository, ProductRepository, etc.)
- `lib/services/inventory_storage.dart` — Hive initialization and box helpers
- `Master_Task.md` — design spec, tasks, and roadmap
---
